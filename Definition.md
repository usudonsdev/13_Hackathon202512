これまでのメモ、UML、コードの議論を統合し、ハッカソン開発チーム全体で共有できる**「プロジェクト要件定義書（ドラフト）」**として文章でまとめました。

このまま `README.md` や 企画書として使える構成にしています。

---

# スマートスケジューラー（仮） プロジェクト要件定義書

## 1. プロジェクト概要
**「個人の可処分時間を最大化し、他者との調整コストをゼロにする」**
通常のカレンダー機能に加え、天気や個人の生活リズム（基礎生活時間）を考慮した「最適日時提案機能」と、プライバシーを守りつつ空き時間をマッチングする「ソーシャル機能」を搭載した次世代スケジューラー。

## 2. コア機能要件

### A. スケジュール管理機能（基本）
* **予定の登録・編集・削除:** 日付、時刻、公開条件、メモを設定可能。
* **ルーティン一括登録:** 大学の授業や定期的な仕事などをまとめて登録可能。
* **削除時の警告:** 誤操作防止のアラートを表示。
* **Googleカレンダー連携:** 外部カレンダーからの予定を一方的に取り込み（インポート）、一元管理する。

### B. AI & スマート提案機能（差別化ポイント）
* **最適日時提案（リコメンド）:**
    * 「2週間以内に美容室に行きたい（所要2時間）」といった条件を入力すると、候補日時を提案。
    * **天気連携:** 雨予報の日を自動的に避けるなどのフィルタリング。
    * **基礎生活時間の考慮:** 移動時間や準備時間など「予定ではないが埋まっている時間」を考慮し、現実的な空き時間を算出。
* **自然言語入力 (LLM):** 「来週の水曜にランチ」のようなテキストから、日時と内容を自動解析して登録。
* **余裕の可視化:** 1日、1週間単位で「実際に自由に使える時間がどれくらいあるか」を可視化。

### C. ソーシャル・調整機能
* **フレンド機能:** 友人の予定を参照可能。
* **プライバシー保護:** 公開範囲（Public）以外の予定は「予定あり」としてマスク表示し、詳細（タイトル・メモ）は隠す。他者による編集は不可。
* **スマート調整:** 複数人のIDを指定することで、全員の空き時間が重なるスロットを自動抽出して提案する（「いつ空いてる？」のやり取りを不要にする）。

---

## 3. システム・データ設計

### 時間管理の概念
* **30分単位スロット:** * システム内部では時間を30分刻みのブロック（TimeSlot）として扱い、計算処理（空き時間検索など）を高速化・簡略化する。
* **基礎生活行為 (Base Life Task):**
    * イベント（予定）の前後に「移動」「準備」などのバッファ時間を設定可能にする。これにより、予定の隙間が本当に使える時間なのかを判定する。

### データベース設計（主要エンティティ）
* **User:** ユーザーID、設定、フレンドリスト
* **Event:** タイトル、開始・終了時刻、種別（通常/ルーティン/提案）、公開設定（Public/Private/FriendOnly）
* **BaseLifeTask:** 定義された生活行為（名前、標準所要時間）

---

## 4. UI/UX デザイン方針

### カレンダー表示（メイン画面）
* **バーティカルビュー（縦型）:** * 1日を縦軸で表示し、30分単位のブロックを配置。
    * 「生活行為（移動など）」は薄い色のブロックで表示し、メインの予定と区別する。
* **提案の可視化（ゴースト表示）:**
    * AIが提案する候補日時は、点線や半透明の「仮ブロック」としてカレンダー上にオーバーレイ表示する。ユーザーはそれをタップするだけで確定できる。

### 余裕度の可視化
* **ヒートマップ:**
    * 月表示などで、その日の忙しさを色の濃淡（緑＝余裕あり、赤＝忙しい）で表現し、直感的に日程を選べるようにする。

---

## 5. 技術スタック（想定）

* **Frontend:** React / Next.js, Tailwind CSS (UI構築)
* **Backend:** Node.js / Python (ロジック処理)
* **Database:** PostgreSQL / Firebase (データ保存)
* **External APIs:**
    * Google Calendar API (同期用)
    * OpenWeatherMap API (天気判定用)
    * OpenAI API (自然言語解析用)

---

この構成でチームメンバーに共有すれば、開発の方向性がブレずに進められるはずです。
次はいよいよ開発着手でしょうか？ 具体的なAPI定義やDB構成など、必要なものがあれば指示してください。